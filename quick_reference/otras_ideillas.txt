Aninode Master Node Catalog V2

The Definitive Feature & Roadmap Specification

Este documento consolida la visiÃ³n completa de Aninode, integrando el Roadmap original, el anÃ¡lisis de brechas de Aninode_ideas.txt, y la nueva arquitectura basada en GSAP.

ðŸš¨ PHASE 1: CORE ANIMATION (MVP - Immediate - Weeks 1-3)

Objetivo: Lograr que objetos se muevan, roten y escalen con la nueva arquitectura GSAP.

Transform & Deformation

RotationNode âš ï¸ (Refactor a GSAP)

Properties: angle, anchorX, anchorY, continuous, speed, yoyo.

GSAP Integration: Mapea directo a gsap.to(target, { rotation, transformOrigin }).

ScaleNode âš ï¸ (Refactor a GSAP)

Properties: scaleX, scaleY, uniform, anchorX, anchorY.

Gap Solution: Implementar "Loop Helper" para fondos infinitos (pregunta del usuario sobre suelo infinito).

DeformationNode (Squash & Stretch) âš ï¸ URGENT

Properties: squashAxis ("X", "Y"), stretchAmount, elasticity.

GSAP Integration: Mapea a escalas inversas (scaleX = val, scaleY = 1/val).

OpacityNode âš ï¸ (Refactor a GSAP)

Properties: opacity, blendMode.

Presets: Blink, Pulse, FadeIn/Out.

Signal Generators

LFONode âœ… (Refactor a Tick-based)

Waveforms: Sine, Triangle, Square, Sawtooth, Noise.

OptimizaciÃ³n: No debe usar React State para cada frame. Debe ser una funciÃ³n consultable getValue(time) usada por el gsap.ticker.

Scene Structure

SceneAnimatorNode âœ…

El contenedor principal de una escena.

LayerManager (UI Component) âš ï¸

Panel lateral tipo Photoshop. Click derecho -> "Pick" para crear nodos.

ðŸŽ¬ PHASE 2: ADVANCED TIMING & CONTROL (Weeks 4-6)

Objetivo: Control total del tiempo y curvas de animaciÃ³n.

AnimationCurveNode

Tipos: Linear, Logarithmic, Gaussian, Exponential, Spring (Elastic).

GSAP: Mapea a CustomEase.create() o los easings nativos de GSAP.

TriggerNode (Interaction)

Triggers: Click, Hover, Scroll, Keyboard (Keydown/up), Time (Delay).

Idea.txt: "Trigger de tiempo... sincronizar tiempo de animaciÃ³n con tiempo de sonido".

TimelineNode

Control maestro de reproducciÃ³n: Play, Pause, Reverse, TimeScale (cÃ¡mara lenta/rÃ¡pida).

Scrubbing: Controlar gsap.globalTimeline.progress().

ðŸ“¦ PHASE 3: SPRITES & ASSETS (Weeks 6-8)

Objetivo: Soporte robusto para animaciÃ³n frame-by-frame.

FrameAnimatorNode (Sprite Sheet)

Props: spriteSheetUrl, rows, cols, fps, loop.

GSAP: Usa SteppedEase para animar background-position.

SpriteAtlasNode âš ï¸ (Nuevo)

Carga JSON/PNG atlases (ej: TexturePacker).

Mapea nombres de frames a coordenadas UV.

SpriteSequenceNode

Secuencia de PNGs sueltos.

OptimizaciÃ³n: Pre-carga de imÃ¡genes (ImageCache).

ðŸ”„ PHASE 4: IMPORT/EXPORT SYSTEM (Weeks 8-10)

Objetivo: Entrar y salir del ecosistema.

SceneImporterNode âš ï¸ (Crucial - Antes "No Documentado")

Input: Carpeta local, ZIP o JSON (formato Photoshop Script).

Logic:

Lee data.json generado por el script de Photoshop.

Mapea coordenadas PSD a coordenadas Web (origen top-left).

Interpreta nombres de capas especiales (ej: "camara_1", "joint_brazo") como metadatos.

Idea.txt: "Plugin o script Photoshop deberÃ­a manejar toda la lÃ³gica...".

ExportNode

Output: HTML/JS Standalone, Video (WebM/MP4), JSON Project.

Features:

Peso: Barra de presupuesto de datos (MBs usados vs lÃ­mite sugerido).

MinificaciÃ³n: OfuscaciÃ³n de cÃ³digo en la exportaciÃ³n web.

ðŸ”§ PHASE 5: WORKFLOW ENHANCERS (Weeks 10-12)

Objetivo: Mejorar la calidad de vida del animador.

ObjectPickerNode (Enhanced)

Selectores: ID, Class, Tag, Nombre de capa ("bird*").

Idea.txt: "Telepathy Ports" (Click derecho -> Send/Receive) para evitar cables largos.

BranchNode / GroupNode

Agrupar mÃºltiples nodos en un solo bloque colapsable.

ParallaxHelperNode (Nuevo)

Asigna velocidades relativas basadas en una "Z" simulada.

GSAP: Usa ScrollTrigger o mouse movement para mover capas a distintas velocidades.

ðŸ’¡ PHASE 6: ADVANCED LIGHTING & SHADOWS (Weeks 12-14)

Objetivo: EstÃ©tica 2.5D avanzada.

SmartShadowNode (Nuevo)

Logic: "Paso por atrÃ¡s o adelante". Calcula z-index relativo.

Features:

Color Extraction: Sombra toma el tinte de la capa (usando librerÃ­a colorthief).

Rim Light: Genera borde interior opuesto a la luz (CSS inset-shadow o SVG Filter).

Skew: Deforma la sombra segÃºn posiciÃ³n de la luz.

LightControllerNode (Update)

Soporte para mÃºltiples fuentes de luz.

Tipos: Point, Directional, Spot.

ðŸ¦´ PHASE 7: RIGGING & PHYSICS (Weeks 14-16)

Objetivo: Personajes y gravedad.

SkeletonNode

Smart Import: Lee capas de Illustrator con nombres estandarizados (joint_elbow, joint_wrist) y auto-conecta huesos.

IK (Inverse Kinematics) bÃ¡sico.

PhysicsNode

Gravedad, Rebote, Colisiones (usando bordes de PNG/SVG).

Idea.txt: "Curvas predeterminadas de rebote, lanzamiento".

â˜ï¸ PHASE 8: ECOSYSTEM & CLOUD (Future)

Objetivo: ColaboraciÃ³n y Servicios.

CloudStorageNode

IntegraciÃ³n Google Drive / Dropbox API ("Bring Your Own Key").

Carga assets directo de la nube del usuario.

CommentLayer (UI)

Capa de "Post-its" temporales sobre la animaciÃ³n para feedback de equipos.

HardwareBridgeNode

ConexiÃ³n Websocket local para DMX / OSC / MIDI.

Controlar luces fÃ­sicas o recibir input de sensores.



Localization: Toda string de UI debe usar i18next (t('key')).

Performance: Usar gsap.ticker.add() para updates constantes, NO useEffect con dependencias rÃ¡pidas.

Storage: Implementar lÃ³gica de "Parches" para el historial (Undo/Redo) para no saturar RAM.

ðŸš¨ PHASE 1: CORE ANIMATION (MVP - Weeks 1-3)

Goal: Essential movement, structure, and basic infinite looping.

Transform

RotationNode (GSAP)

Props: angle, anchorX/Y, continuous, speed.

ScaleNode (GSAP)

Props: scaleX/Y, uniform, anchorX/Y.

PositionNode (GSAP)

Props: x, y (pixels/percent), motionPath.

Appearance & Loops

OpacityNode (GSAP)

Props: opacity, blendMode.

Fetch Node ðŸ†• (From Ideas)

Purpose: Infinite background looping (Seamless Tiling).

Logic: Takes a target (e.g., floor), clones it, and manages the "teleport" reset of position when it exits the viewport.

DeformationNode

Logic: Programmatic inverse scaling for squash & stretch.

Scene & Structure

SceneAnimatorNode

Root container context.

ObjectPickerNode (Standard)

Selectors: ID, Class, LayerName.

ðŸŽ¬ PHASE 2: TIMING & CAMERAS (Weeks 4-6)

Goal: Time control, manual overrides, and camera work.

TimelineNode

Master control: Play, Pause, Reverse, TimeScale.

Hand Override Node ðŸ†• (From Ideas)

Purpose: Non-destructive manual editing.

Logic: Allows user to grab an object driven by an LFO/Anim and manually offset it at a specific timestamp without breaking the procedural chain.

CameraNode

Props: Zoom, Pan (X/Y), Rotation.

TriggerNode

Inputs: Click, Hover, Keyboard, Time (Delay).

âš¡ PHASE 3: LOGIC, DATA & MODIFIERS (Weeks 6-8)

Goal: Procedural animation and array management.

LFONode (Tick-based)

Waveforms: Sine, Square, Triangle, Noise.

Value List Node ðŸ†• (From Ideas)

Purpose: Data management.

Logic: Generates a list of numbers (e.g., [0, 45, 90, 135]) to map to phases of multi-clones. Features an auto-input port to read the "count" from the target node.

Delay Array / Stagger Node

Logic: Creates a chain of delays for "domino effects". Maps to GSAP stagger.

Clone Node / Multi-Clone ðŸ†• (From Ideas)

Purpose: Instancing.

Logic: Clones any connected node/object. "Multi-Clone" allows internal copying multiple times (driven by lists).

ðŸŽ¨ PHASE 4: VISUALS & EFFECTS (Weeks 8-10)

Goal: Advanced aesthetics.

Visual Props Node ðŸ†• (From Ideas)

Purpose: Container for effects.

Logic: A single block acting as a stack for Filter, Mask, and Blend modes, with individual triggers per effect.

Weaver Node ðŸ†• (From Ideas)

Purpose: Particle/Object weaving.

Logic: Tejes (weaves) particles or objects with visual transitions.

SmartShadowNode

Logic: Oclusion, Color Extraction from parent.

ðŸ–±ï¸ PHASE 5: INTERACTION & WORKFLOW (Weeks 10-12)

Goal: Speed and usability.

PathDrawerNode

UI: Pen tool in viewport.

Cherry Picker Node ðŸ†• (From Ideas)

Advanced ObjectPicker: "Multiple" mode to pick objects from different sources and create a unified list for processing.

Pick and Place Logic

Visual positioning in canvas saved as "Original State" in node parameters.

ðŸ§  PHASE 6: SYSTEM & I/O (Weeks 12-14)

Goal: External connections and optimization.

AudioNode (Analysis: Transients/Volume).

VideoNode (Sync playback).

ScriptNode (Custom JS injection).

HardwareBridgeNode (DMX/OSC).

ðŸ› ï¸ UI/UX & WORKFLOW FEATURES (Crucial for Dev)

These are not nodes, but Engine/Editor features.

1. Advanced Interaction

Port-Based Creation: Double-click port -> Open Node Search.

Quick Search: Shift+Tab -> Spotlight-style search.

Drag-to-Clone: Ctrl+Alt+Drag output port -> Creates Clone Node.

Batch Creation: Shift+Click in menu to add multiple nodes.

2. "Telepathic" Connections

Logic: Right-click field "Send" -> Right-click field "Receive".

Visuals: Removes cable clutter. Shows "Pulse" animation when value is live.

3. Scene Manager (Side Panel)

Smart Branching: Right-click layer -> "Branch/Pick" -> Auto-generates ObjectPicker + Node Chain.

Flow Highlighting: Selecting an object highlights its entire node path (wires turn bright).

4. File Architecture & History

Structural Sharing:

History.json: Infinite undo stack (resettable).

Save.json: Manual save state.

Autosave.json: Temporary state.

5. Dynamic Rendering

Performance: Engine detects static state -> Drops FPS. Detects movement -> Ramps FPS (Variable Refresh Rate).